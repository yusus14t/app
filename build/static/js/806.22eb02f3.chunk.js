"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[806],{1806:function(e,s,n){n.r(s),n.d(s,{default:function(){return w}});var r=n(4165),t=n(1413),i=n(5861),l=n(9439),a=n(2791),c=n(9806),d=n(5403),o=n(2373),u=n(7689),m=n(6148),p=n(1134),x=n(1936),h=n(6722),v=n(1632),g=n(1087),b=(n(9352),n(2391)),j=n(7421),N=n(184),f=function(){var e,s,n,f,w,Z,y=(0,u.TH)().state,S=(0,p.cI)({onChange:!0}),k=S.register,E=(S.reset,S.handleSubmit,S.formState.errors,(0,a.useRef)(null)),I=(0,a.useRef)(null),T=(0,o.Z)(),O=(0,a.useState)(!1),F=(0,l.Z)(O,2),q=F[0],R=F[1],C=(0,a.useState)({}),M=(0,l.Z)(C,2),A=M[0],_=M[1],G=(0,a.useState)({}),P=(0,l.Z)(G,2),J=(P[0],P[1]),X="SIGNUP_FORM",H="USER_TYPES_FORM",L="PATIENT_FORM",U="ORGANIZATION_FORM",z=(0,a.useState)(X),D=(0,l.Z)(z,2),V=D[0],B=D[1],Y=(0,a.useState)([]),K=(0,l.Z)(Y,2),Q=(K[0],K[1]),W=(0,a.useState)({name:"",phone:"",age:"",gender:""}),$=(0,l.Z)(W,2),ee=$[0],se=$[1];(0,a.useEffect)((function(){ie()}),[]);var ne=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(s){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s){e.next=4;break}return T.error("Enter number"),e.abrupt("return");case 4:return e.next=6,d.be.post("/signup",(0,t.Z)((0,t.Z)({},ee),{},{phone:s}));case 6:n=e.sent,i=n.data,_(null===i||void 0===i?void 0:i.user),se((0,t.Z)((0,t.Z)({},ee),{},{phone:s})),R(!0),411===(null===i||void 0===i?void 0:i.status_code)?T.error(null===i||void 0===i?void 0:i.message):T.success(null===i||void 0===i?void 0:i.message),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),T.error(null===e.t0||void 0===e.t0?void 0:e.t0.message),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(s){return e.apply(this,arguments)}}(),re=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var s,n,t,i,l,a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.be.post("/validate-otp",{otp:I.current.value,userId:null===A||void 0===A?void 0:A._id});case 3:i=e.sent,l=i.data,localStorage.setItem("user",JSON.stringify(null===l||void 0===l?void 0:l.user)),localStorage.setItem("token",JSON.stringify(null===l||void 0===l?void 0:l.token)),null!==l&&void 0!==l&&null!==(s=l.user)&&void 0!==s&&null!==(n=s.twoFactor)&&void 0!==n&&n.isVerified&&null!==l&&void 0!==l&&null!==(t=l.user)&&void 0!==t&&t.isActive?null!==y&&void 0!==y&&y.redirectTo?window.location.replace(y.redirectTo):window.location.replace(null===(a=m._A[null===l||void 0===l||null===(c=l.user)||void 0===c?void 0:c.userType])||void 0===a?void 0:a.path):B(H),T.success(null===l||void 0===l?void 0:l.message),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),T.error(null===e.t0||void 0===e.t0?void 0:e.t0.message),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(s){var n,t,i,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.be.post("/common/set-usertype",{type:s,userId:A._id,organizationId:null===A||void 0===A?void 0:A.organizationId},(0,d.Ek)());case 3:i=e.sent,l=i.data,J(s),localStorage.setItem("user",JSON.stringify(null===l||void 0===l?void 0:l.user)),"patient"===s?B(L):["hospital","clinic"].includes(s)?B(U):window.location.replace(null===(n=m._A[null===l||void 0===l||null===(t=l.user)||void 0===t?void 0:t.userType])||void 0===n?void 0:n.path),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(s){return e.apply(this,arguments)}}(),ie=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Jx)();case 2:s=e.sent,Q(s.data.images);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,N.jsx)("div",{className:"bg-primary",style:{height:"100vh"},children:(0,N.jsxs)(h.Z,{className:"login-page mb-0 px-2",children:[(0,N.jsx)("div",{className:"login-img-container",children:(0,N.jsx)("img",{className:"w-100 py-3",src:x})}),V===X&&(0,N.jsxs)("div",{className:" d-flex flex-column align-items-center bg-white curved w-100 p-4 parent-div ",children:[(0,N.jsx)("h4",{className:"m-0",children:" Login/SignUp"}),q?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"mobile text-dark",children:[(0,N.jsx)("p",{className:"mb-1 text-dark ",children:"Mobile Number"}),(0,N.jsxs)("h4",{className:"text-muted rounded bg-light p-2",children:["+91 \xa0","".concat(String((null===ee||void 0===ee?void 0:ee.phone)||"").slice(0,3),"-").concat(String((null===ee||void 0===ee?void 0:ee.phone)||"").slice(3,6),"-").concat(String((null===ee||void 0===ee?void 0:ee.phone)||"").slice(6,10)),(0,N.jsx)("span",{children:(0,N.jsx)(c.G,{onClick:function(){R(!1),E.current.value=ee.phone},className:"cursor-pointer medit ml-1 text",icon:v.Xcf})})]})]}),(0,N.jsxs)("div",{className:"mb-2 mt-4 d-flex flex-column",children:[(0,N.jsx)("label",{className:" ",children:"Enter OTP"}),(0,N.jsx)("input",{className:"login-input text-center ls8 rounded border-0 bg-light p-2",placeholder:"XXXX",type:"text",maxLength:4,inputMode:"numeric",ref:I})]}),(0,N.jsx)("div",{className:"mt-3",children:(0,N.jsx)("button",{className:"btn btn-primary mt-3",onClick:re,children:"Validate OTP"})})]}):(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"mb-2 mt-4 d-flex flex-column",children:[(0,N.jsx)("label",{className:" ",children:"Enter Mobile Number"}),(0,N.jsx)("input",{className:"login-input rounded border-0 ls8 text-center bg-light p-2",placeholder:"8218397850",type:"text",maxLength:10,inputMode:"numeric",ref:E,onChange:d.y4})]}),(0,N.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,N.jsx)("input",{className:"checkbox",type:"checkbox"}),(0,N.jsx)("span",{className:"mb-0 mx-2",children:(0,N.jsxs)(g.rU,{to:"/terms",children:[" ","Agree to the"," ",(0,N.jsx)("span",{className:"mb-0 text-primary",children:"terms and conditions"})]})})]}),(0,N.jsx)("div",{className:"mt-3",children:(0,N.jsx)("button",{className:"btn btn-primary shadow-none mt-3",onClick:function(){return ne(E.current.value)},children:"Send OTP"})})]})]}),V===H&&(0,N.jsxs)("div",{className:"d-flex flex-column align-items-center bg-white curved w-100 p-4 parent-div",children:[(0,N.jsxs)("div",{className:"patient text-center",onClick:function(){return te("patient")},children:[(0,N.jsx)(c.G,{className:"text-dark ",style:{fontSize:"60px"},icon:v.u13}),(0,N.jsx)("p",{className:"mb-0 mt-1",children:(0,N.jsx)("strong",{className:"text-dark  fs-6 ",children:"Patients"})}),(0,N.jsx)("p",{className:"mb-0 text-muted  fs-12",children:"To Book Appointment"})]}),(0,N.jsxs)("div",{className:"signup-items",children:[(0,N.jsxs)("div",{className:"signup-item text-center ",onClick:function(){return te("clinic")},children:[(0,N.jsx)("div",{className:"signup-icons ",children:(0,N.jsx)("img",{className:"w-100 h-100",src:b})}),(0,N.jsxs)("p",{className:"mb-0 detail",children:["To register your ",(0,N.jsx)("strong",{className:"fs-6",children:"Clinic"})]})]}),(0,N.jsxs)("div",{style:{marginLeft:"20px"},className:"signup-item text-center",onClick:function(){return te("hospital")},children:[(0,N.jsx)("div",{className:"signup-icons ",children:(0,N.jsx)("img",{className:"w-100 h-100",src:j})}),(0,N.jsxs)("p",{className:"mb-0 detail",children:["To register your ",(0,N.jsx)("strong",{className:"fs-6",children:"Hospitals"})]})]})]})]}),(0,N.jsxs)("from",{className:"d-flex justify-content-center w-100",children:[V===L&&(0,N.jsxs)("div",{className:" d-flex flex-column align-items-center bg-white curved  p-4 parent-div ",children:[(0,N.jsx)("h4",{children:"Fill your datails"}),(0,N.jsxs)("div",{className:"mb-2 w-100",children:[(0,N.jsx)("label",{htmlFor:"",children:"Mobile Number"}),(0,N.jsxs)("h4",{className:"mb-2 text-disabled",children:["+91 ",null===ee||void 0===ee||null===(e=ee.phone)||void 0===e?void 0:e.slice(0,3),"-",null===ee||void 0===ee||null===(s=ee.phone)||void 0===s?void 0:s.slice(3,6),"-",null===ee||void 0===ee||null===(n=ee.phone)||void 0===n?void 0:n.slice(-4)]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("input",(0,t.Z)({type:"hidden",value:"patient"},k("source"))),(0,N.jsxs)("div",{className:"w-100 mb-3",children:[(0,N.jsxs)("label",{children:["Full Name ",(0,N.jsx)("span",{className:"text-anger",children:"*"})]})," ",(0,N.jsx)("br",{}),(0,N.jsx)("input",(0,t.Z)({type:"text",className:"login-input w-100 rounded border-0 bg-light p-2",placeholder:"Enter full name"},k("name",{required:"name is required"})))]}),(0,N.jsxs)("div",{className:"d-flex mb-3",children:[(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("label",{children:["Age ",(0,N.jsx)("span",{children:"*"})]})," ",(0,N.jsx)("br",{}),(0,N.jsx)("input",(0,t.Z)((0,t.Z)({placeholder:"Enter age"},k("age",{required:"age is required"})),{},{className:"login-input rounded border-0 w-100  bg-light p-2 "}))]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{children:["Gender ",(0,N.jsx)("span",{children:"*"})]})," ",(0,N.jsx)("br",{}),(0,N.jsxs)("select",(0,t.Z)((0,t.Z)({className:"login-input rounded border-0 ms-1 bg-light p-2 "},k("gender",{required:"Gender is required"})),{},{style:{width:"105px",height:"39px"},children:[(0,N.jsx)("option",{value:"Female",children:"Female"}),(0,N.jsx)("option",{value:" Male",children:"Male"}),(0,N.jsx)("option",{value:"other",children:"Other"})]}))]})]}),(0,N.jsxs)("div",{className:"w-100 mb-3",children:[(0,N.jsxs)("label",{children:["Father Name ",(0,N.jsx)("span",{className:"text-anger",children:"*"})]}),(0,N.jsx)("br",{}),(0,N.jsx)("input",(0,t.Z)({type:"text",className:"login-input w-100 rounded border-0 bg-light p-2",placeholder:"Enter father name."},k("fatherName")))]}),(0,N.jsxs)("div",{className:"w-100 mb-4",children:[(0,N.jsxs)("label",{children:["Address ",(0,N.jsx)("span",{className:"text-anger",children:"*"})]})," ",(0,N.jsx)("br",{}),(0,N.jsx)("input",(0,t.Z)({type:"text",className:"login-input w-100 rounded border-0 bg-light p-2",placeholder:"Enter address"},k("address",{required:"address is required"})))]}),(0,N.jsx)("button",{className:"btn btn-primary shadow-none  w-100 py-2",type:"submit",children:"Save"})]})]}),V===U&&(0,N.jsxs)("div",{className:"d-flex flex-column align-items-center bg-white curved w-100 p-4 parent-div2 ",children:[(0,N.jsx)("h4",{children:"Fill your datails"}),(0,N.jsxs)("div",{className:"mb-2 w-100",children:[(0,N.jsx)("label",{htmlFor:"",children:"Mobile Number"}),(0,N.jsxs)("h4",{className:"mb-2 text-disabled",children:["+91 ",null===ee||void 0===ee||null===(f=ee.phone)||void 0===f?void 0:f.slice(0,3),null===ee||void 0===ee||null===(w=ee.phone)||void 0===w?void 0:w.slice(3,6),null===ee||void 0===ee||null===(Z=ee.phone)||void 0===Z?void 0:Z.slice(-4)]})]}),(0,N.jsxs)("div",{className:"w-100 mb-3",children:[(0,N.jsxs)("label",{children:["Registration Number",(0,N.jsx)("span",{className:"text-anger",children:"*"})]})," ",(0,N.jsx)("br",{}),(0,N.jsx)("input",(0,t.Z)({type:"text",className:"login-input w-100 rounded border-0 bg-light p-2",placeholder:"Enter registration no."},k("registrationNo",{required:"Registration number is required"})))]}),(0,N.jsxs)("div",{className:"w-100 mb-3",children:[(0,N.jsxs)("label",{children:["Clinic / Hospital Name",(0,N.jsx)("span",{className:"text-anger",children:"*"})]})," ",(0,N.jsx)("br",{}),(0,N.jsx)("input",(0,t.Z)({type:"text",className:"login-input w-100 rounded border-0 bg-light p-2",placeholder:"Enter name"},k("name",{required:"name is required"})))]}),(0,N.jsxs)("div",{className:"w-100 mb-3",children:[(0,N.jsxs)("label",{children:["Email ID ",(0,N.jsx)("span",{className:"text-anger",children:"*"})]})," ",(0,N.jsx)("br",{}),(0,N.jsx)("input",(0,t.Z)({type:"text",className:"login-input w-100 rounded border-0 bg-light p-2",placeholder:"Enter email ID"},k("email",{required:"Email is required"})))]}),(0,N.jsx)("div",{className:"w-100",children:(0,N.jsx)("button",{className:"btn btn-primary py-2 shadow-none w-100",children:"Save"})})]})]})]})})},w=function(){(0,u.TH)().state;var e=(0,p.cI)({onChange:!0}),s=(e.register,e.reset,e.handleSubmit,e.formState.errors,(0,a.useRef)(null),(0,a.useRef)(null),(0,o.Z)(),(0,a.useState)(!1)),n=(0,l.Z)(s,2),t=(n[0],n[1],(0,a.useState)({})),c=(0,l.Z)(t,2),m=(c[0],c[1],(0,a.useState)({})),x=(0,l.Z)(m,2),h=(x[0],x[1],"ORGANIZATION_FORM"),v=(0,a.useState)(h),g=(0,l.Z)(v,2),b=(g[0],g[1],(0,a.useState)([])),j=(0,l.Z)(b,2),w=(j[0],j[1]),Z=(0,a.useState)({name:"",phone:"",age:"",gender:""}),y=(0,l.Z)(Z,2);y[0],y[1];(0,a.useEffect)((function(){S()}),[]);var S=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Jx)();case 2:s=e.sent,w(s.data.images);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,N.jsx)(f,{})}},9352:function(e,s,n){e.exports=n.p+"static/media/department.4c788788ba97a4fda461.jpg"}}]);
//# sourceMappingURL=806.22eb02f3.chunk.js.map